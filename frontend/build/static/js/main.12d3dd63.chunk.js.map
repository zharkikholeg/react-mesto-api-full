{"version":3,"sources":["images/header-logo.svg","contexts/CurrentEmailContext.js","components/Header.js","images/pen.svg","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/Api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","utils/Auth.js","components/InfoTooltip.js","images/ok.png","images/error.png","components/Register.js","components/Login.js","components/ProtectedRoute.js","components/App.js","reportWebVitals.js","index.js"],"names":["CurrentEmailContext","React","createContext","Hedaer","props","location","useLocation","currentEmail","useContext","className","src","logoPath","alt","pathname","to","onClick","signOut","CurrentUserContext","Card","currentUser","isOwner","card","owner","_id","isLiked","likes","some","i","type","onCardDelete","name","link","onCardClick","onLikeClick","length","Main","useState","overlayStatus","setOverLayStatus","cardItems","cards","map","onEditAvatar","onMouseOver","onMouseLeave","penPath","avatar","onEditProfile","about","onAddPlace","Footer","currentYear","Date","getFullYear","ImagePopup","onClose","api","config","this","url","headers","res","ok","json","Promise","reject","status","fetch","then","_getResponseData","data","method","body","JSON","stringify","cardId","authorization","localStorage","getItem","PopupWithForm","isOpen","title","onSubmit","children","value","buttonText","EditProfilePopup","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","onChange","target","id","minLength","maxLength","required","EditAvatarPopup","inputRef","useRef","onUpdateAvatar","current","placeholder","ref","AddPlacePopup","setLink","onPlaceSubmit","BASE_URL","InfoTooltip","isOk","withRouter","email","setEmail","password","setPassword","tooltipOpen","setTooltipOpen","setIsOk","response","catch","err","console","log","register","setTimeout","history","push","token","setItem","authorize","handleLogin","ProtectedRoute","Component","component","loggedIn","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setAddStatus","isEditAvatarPopupOpen","setAvaStatus","selectedCard","setSelectedCard","setCurrentUser","setCards","setLoggedIn","setCurrentEmail","closeAllPopups","getUser","getAllCards","jwt","tokenCheck","Provider","Header","removeItem","path","exact","removeLike","newCard","state","c","addLike","deleteCard","filter","editUser","addCard","changeAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.12d3dd63.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header-logo.03b78ada.svg\";","import React from 'react';\n\n\nexport const CurrentEmailContext = React.createContext();","import React from \"react\";\nimport logoPath from \"../images/header-logo.svg\"\nimport { useLocation, Link } from \"react-router-dom\";\nimport { CurrentEmailContext } from \"../contexts/CurrentEmailContext.js\"\n\nfunction Hedaer(props) {\n  let location = useLocation();\n  const currentEmail = React.useContext(CurrentEmailContext)\n  //console.log(location.pathname)\n  return (\n    <header className=\"header\">\n      <img className=\"header__logo\" src={logoPath} alt=\"лого\" />\n      {location.pathname === '/sign-up' && <Link className=\"header__link\" to=\"/sign-in\">Войти</Link>}\n      {location.pathname === '/sign-in' && <Link className=\"header__link\" to=\"/sign-up\">Регистрация</Link>}\n      {location.pathname === '/' && <div><p onClick={props.signOut} className=\"header__link header__link_grey\">Выйти</p><p className=\"header__link\">{currentEmail}</p></div>}\n    </header>\n  )\n}\n\nexport default Hedaer;","export default __webpack_public_path__ + \"static/media/pen.a086f758.svg\";","import React from 'react';\n\n\nexport const CurrentUserContext = React.createContext();\n","import React from 'react';\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\n\n\nfunction Card(props) {\n\n  const currentUser = React.useContext(CurrentUserContext)\n  const isOwner = props.card.owner._id === currentUser._id;\n  const isLiked = props.card.likes.some(i => i._id === currentUser._id);\n\n  function handleClick() {\n    props.onCardClick(props.card);\n  }\n\n  function handleLikeClick() {\n    props.onLikeClick(props.card)\n  }\n\n  function handleDeleteClick() {\n    props.onCardDelete(props.card._id)\n  }\n\n  return (\n    <li className=\"element\" >\n      <div className=\"element__image-wrapper\">\n        <button type=\"button\" className={isOwner ? \"element__trash\" : \"element__trash_invisible\"} onClick={handleDeleteClick}></button>\n        <img className=\"element__image\" alt={props.card.name} src={props.card.link} onClick={handleClick} />\n      </div>\n      <div className=\"element__wrapper\">\n        <h3 className=\"element__text\">{props.card.name}</h3>\n        <div className=\"element__likes-wrapper\">\n          <button type=\"button\" className={isLiked ? \"element__heart element__heart_active\" : \"element__heart\"} onClick={handleLikeClick}></button>\n          <p className=\"element__likecount\">{props.card.likes.length}</p>\n        </div>\n      </div>\n    </li>\n  )\n}\n\nexport default Card;","import React from \"react\";\nimport penPath from \"../images/pen.svg\"\nimport Card from \"./Card.js\"\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\"\n\nfunction Main(props) {\n\n  const [overlayStatus, setOverLayStatus] = React.useState(false);\n\n  const currentUser = React.useContext(CurrentUserContext)\n\n\n\n\n\n  const cardItems = props.cards.map((card) => (\n    <Card card={card} key={card._id} onCardClick={props.onCardClick} onLikeClick={props.onLikeClick} onCardDelete={props.onCardDelete} />\n  ));\n\n  function handleMouseEnter() {\n    setOverLayStatus(true);\n  }\n\n  function handleMouseLeave() {\n    setOverLayStatus(false);\n  }\n\n\n\n  return (\n    <main>\n      <section className=\"profile\">\n        <div className=\"profile__avatar-wrapper\" onClick={props.onEditAvatar} onMouseOver={handleMouseEnter} onMouseLeave={handleMouseLeave}>\n          <div className={`profile__avatar-overlay ${overlayStatus ? \"profile__avatar-overlay_active\" : \"\"}`} >\n            <img src={penPath} alt=\"\" className=\"profile__avatar-overlay-image\" />\n          </div>\n          <img className=\"profile__avatar\" src={currentUser.avatar} alt=\"аватар\" />\n        </div>\n        <div className=\"profile__info\">\n          <div className=\"profile__info-wrapper\">\n            <h1 className=\"profile__info-name\">{currentUser.name}</h1>\n            <button className=\"profile__info-edit\" type=\"button\" onClick={props.onEditProfile}></button>\n          </div>\n          <p className=\"profile__info-bio\">{currentUser.about}</p>\n        </div>\n        <button className=\"profile__add-button\" type=\"button\" onClick={props.onAddPlace}></button>\n      </section>\n\n      <section>\n        <ul className=\"elements\">\n          {cardItems}\n        </ul>\n      </section>\n\n    </main>\n  )\n}\n\nexport default Main;","import React from \"react\";\n\nfunction Footer(props) {\n  const currentYear = new Date().getFullYear();\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__text\">&copy; {currentYear}. Mesto Russia</p>\n    </footer>\n  )\n}\n\nexport default Footer;","import React from \"react\";\n\nfunction ImagePopup(props) {\n\n  //console.log(props)\n  return (\n    <div className={`popup popup_for-preview ${props.card !== null && \"popup_active\"}`}>\n      <div className=\"popup__preview-container\">\n        <button className=\"popup__close-icon popup__close-icon_for-preview\" type=\"button\" onClick={props.onClose}></button>\n        <img src={props.card !== null ? props.card.link : \"#\"} alt=\"#\" className=\"popup__image\" onClick={props.onClose}/>\n        <h4 className=\"popup__name\">{props.card !== null ? props.card.name : \"\"}</h4>\n      </div>\n    </div>\n  )\n}\n\n\nexport default ImagePopup;","class Api {\n  constructor(config) {\n    this.url = config.url;\n    this.headers = config.headers;\n  }\n\n  _getResponseData(res) {\n    if (!res.ok) {\n      return Promise.reject(`Ошибка: ${res.status}`);\n    }\n    return res.json();\n  }\n\n  getAllCards() {\n    return fetch(this.url + \"cards\", {\n      headers: this.headers\n    })\n      .then((res) => this._getResponseData(res));\n  }\n\n  addCard(data) {\n    return fetch(this.url + \"cards\", {\n      method: \"POST\",\n      headers: this.headers,\n      body: JSON.stringify(data)\n    })\n      .then((res) => this._getResponseData(res));\n  }\n\n  deleteCard(cardId) {\n    return fetch(this.url + \"cards/\" + cardId, {\n      method: \"DELETE\",\n      headers: this.headers\n    })\n      .then((res) => this._getResponseData(res));\n  }\n\n  getUser() {\n    return fetch(this.url + \"users/me\", {\n      headers: this.headers\n    })\n      .then((res) => this._getResponseData(res));\n  }\n\n  editUser(name, about) {\n    return fetch(this.url + \"users/me\", {\n      method: \"PATCH\",\n      headers: this.headers,\n      body: JSON.stringify({\n        name: name,\n        about: about\n      })\n    })\n      .then((res) => this._getResponseData(res));\n  }\n\n  changeAvatar(link) {\n    return fetch(this.url + \"users/me/avatar\", {\n      method: \"PATCH\",\n      headers: this.headers,\n      body: JSON.stringify({\n        avatar: link\n      })\n    })\n      .then((res) => this._getResponseData(res));\n  }\n\n  addLike(cardId) {\n    return fetch(this.url + \"cards/likes/\" + cardId, {\n      method: \"PUT\",\n      headers: this.headers\n    })\n      .then((res) => this._getResponseData(res));\n  }\n\n  removeLike(cardId) {\n    return fetch(this.url + \"cards/likes/\" + cardId, {\n      method: \"DELETE\",\n      headers: this.headers\n    })\n      .then((res) => this._getResponseData(res));\n  }\n}\n\n\nconst fetchConfig = {\n  url: \"http://api.olegz.nomoredomains.rocks/\",\n  headers: {\n    'Content-Type': 'application/json',\n    authorization: `Bearer ${localStorage.getItem('jwt')}`\n  }\n};\n\nconst api = new Api(fetchConfig);\n\nexport default api;","import React from \"react\";\n\nfunction PopupWithForm(props) {\n  return (\n    <div className={`popup popup_for-${props.name} ${props.isOpen ? 'popup_active' : ''}`}>\n      <div className=\"popup__container\">\n        <h2 className=\"popup__heading\">{props.title}</h2>\n        <form className={`popup__form popup__form_type_${props.name}`} name={props.name} onSubmit={props.onSubmit}>\n          {props.children}\n          <input className=\"popup__submit\" type=\"submit\" value={props.buttonText} />\n        </form>\n        <button className=\"popup__close-icon\" type=\"button\" onClick={props.onClose}></button>\n      </div>\n    </div>\n  )\n}\n\nexport default PopupWithForm;","import React from \"react\"\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\"\nimport PopupWithForm from \"./PopupWithForm\"\n\nfunction EditProfilePopup(props) {\n\n  // Подписка на контекст\n  const currentUser = React.useContext(CurrentUserContext);\n  const [name, setName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n\n  // После загрузки текущего пользователя из API\n  // его данные будут использованы в управляемых компонентах.\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser, props.isOpen]);\n\n  function handleNameChange(e) {\n    setName(e.target.value);\n  }\n\n  function handleDescriptionChange(e) {\n    setDescription(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    // Запрещаем браузеру переходить по адресу формы\n    e.preventDefault();\n\n    // Передаём значения управляемых компонентов во внешний обработчик\n    props.onUpdateUser({\n      name: name,\n      about: description,\n    });\n  }\n\n  return (\n    <PopupWithForm onSubmit={handleSubmit} isOpen={props.isOpen} onClose={props.onClose} title=\"Редактировать профиль\" buttonText=\"Сохранить\">\n      <input className=\"popup__input \" type=\"text\" value={name} onChange={handleNameChange} id=\"name\" name=\"name\" minLength=\"2\" maxLength=\"40\" required />\n      <span className=\"popup__error name-error\"></span>\n      <input className=\"popup__input\" type=\"text\" value={description} onChange={handleDescriptionChange} id=\"bio\" name=\"bio\" minLength=\"2\" maxLength=\"200\" required />\n      <span className=\"popup__error bio-error\"></span>\n    </PopupWithForm>\n\n  )\n}\n\nexport default EditProfilePopup;","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction EditAvatarPopup(props) {\n\n  const inputRef = React.useRef();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    props.onUpdateAvatar({\n      avatar: inputRef.current.value\n    });\n  }\n\n  return (\n    <PopupWithForm onSubmit={handleSubmit} isOpen={props.isOpen} onClose={props.onClose} title=\"Заменить аватар\" buttonText=\"Сохранить\">\n      <input className=\"popup__input\" id=\"linkforava\" name=\"link\" placeholder=\"Ссылка на картинку\" type=\"url\" ref={inputRef} required />\n      <span className=\"popup__error linkforava-error\"></span>\n    </PopupWithForm>\n\n  )\n}\n\nexport default EditAvatarPopup;","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction AddPlacePopup(props) {\n\n  const [name, setName] = React.useState('');\n  const [link, setLink] = React.useState('');\n\n  function handleNameChange(e) {\n    setName(e.target.value);\n  }\n\n  function handleLinkChange(e) {\n    setLink(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    props.onPlaceSubmit({\n      name: name,\n      link: link\n    });\n\n    setName('');\n    setLink('');\n  }\n\n  return (\n    <PopupWithForm onSubmit={handleSubmit} isOpen={props.isOpen} onClose={props.onClose} title=\"Новое место\" buttonText=\"Создать\">\n      <input className=\"popup__input\" type=\"text\" id=\"placename\" name=\"placename\" placeholder=\"Название\" minLength=\"2\" maxLength=\"30\" value={name} onChange={handleNameChange} required />\n      <span className=\"popup__error placename-error\"></span>\n      <input className=\"popup__input\" id=\"link\" name=\"link\" placeholder=\"Ссылка на картинку\" type=\"url\" value={link} onChange={handleLinkChange} required />\n      <span className=\"popup__error link-error\"></span>\n    </PopupWithForm>\n  )\n}\n\nexport default AddPlacePopup;","export const BASE_URL = 'http://api.olegz.nomoredomains.rocks';\n\nexport const register = (email, password) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({ email, password })\n  })\n    .then((response) => {\n      try {\n        if (response.status === 201) {\n          return response.json();\n        }\n      } catch (e) {\n        return (e)\n      }\n    })\n    .catch((err) => console.log(err));\n};\n\n\nexport const authorize = (email, password) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({ email, password })\n  })\n    .then((response => response.json()))\n    .then((data) => {\n      if (data.token) {\n        localStorage.setItem('jwt', data.token);\n        return data;\n      }\n    })\n    .catch(err => console.log(err))\n}\n\nexport const getContent = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${token}`,\n    }\n  })\n    .then(res => res.json())\n    .then(data => data)\n}","import React from \"react\";\nimport okPath from \"../images/ok.png\"\nimport errorPath from \"../images/error.png\"\n\nfunction InfoTooltip(props) {\n\n  const okText = \"Вы успешно зарегистрировались!\";\n  const errorText = \"Что-то пошло не так! Попробуйте ещё раз.\";\n\n  return (\n    <div className={`popup ${props.isOpen ? 'popup_active' : ''}`}>\n      <div className=\"popup__container\">\n        <img className=\"tooltip__img\" src={props.isOk ? okPath : errorPath} alt=\"resut\" />\n        <button className=\"popup__close-icon\" type=\"button\" onClick={props.onClose}></button>\n        <p className=\"tooltip__text\">{props.isOk ? okText : errorText}</p>\n      </div>\n    </div>\n  )\n}\n\nexport default InfoTooltip;","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","import React from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport { register } from '../utils/Auth';\nimport InfoTooltip from './InfoTooltip';\n\nfunction Register(props) {\n\n  const [email, setEmail] = React.useState('');\n  const [password, setPassword] = React.useState('');\n  const [tooltipOpen, setTooltipOpen] = React.useState(false);\n  const [isOk, setIsOk] = React.useState(true);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    if (email !== '' && password !== '') {\n      register(email, password)\n        .then((res) => {\n          //console.log(res);\n          if (res) {\n            setEmail('');\n            setPassword('');\n            setIsOk(true);\n            setTooltipOpen(true);\n            setTimeout(() => props.history.push('/sign-in'), 3000);\n          } else {\n            setIsOk(false);\n            setTooltipOpen(true);\n          }\n\n        })\n        .catch(err => console.log(err));\n    }\n\n\n  }\n\n  function handleClose() {\n    setTooltipOpen(false);\n  }\n\n  function handleEmailChange(e) {\n    setEmail(e.target.value);\n  }\n\n  function handlePasswordChange(e) {\n    setPassword(e.target.value);\n  }\n\n  return (\n    <section className=\"register\">\n      <h2 className=\"register__heading\">Регистрация</h2>\n      <form onSubmit={handleSubmit} className=\"register__form\">\n\n        <input id=\"email\" placeholder=\"Email\" className=\"register__input\" name=\"email\" type=\"email\" value={email} onChange={handleEmailChange} />\n\n        <input id=\"password\" placeholder=\"Пароль\" className=\"register__input\" name=\"password\" type=\"password\" value={password} onChange={handlePasswordChange} />\n        <div className=\"register__button-container\">\n          <button type=\"submit\" className=\"register__submit\">Зарегистрироваться</button>\n        </div>\n        <p className=\"register__bottom-text\">Уже зарегистрированы? <Link to=\"/sign-in\" className=\"register__bottom-link\">Войти</Link></p>\n      </form>\n      <InfoTooltip isOpen={tooltipOpen} onClose={handleClose} isOk={isOk} />\n    </section>\n  );\n}\n\nexport default withRouter(Register);","import React from 'react';\nimport { authorize } from '../utils/Auth';\nimport { withRouter } from 'react-router-dom';\n\n\nfunction Login(props) {\n\n  const [email, setEmail] = React.useState('');\n  const [password, setPassword] = React.useState('');\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    // сюда добавим логику обработки формы регистрации\n    //console.log(email, password)\n    authorize(email, password)\n      .then((data) => {\n        if (data.token) {\n          setEmail('');\n          setPassword('');\n          props.handleLogin(email);\n          props.history.push('/');\n        }\n      })\n      .catch(err => console.log(err));\n\n  }\n\n  function handleEmailChange(e) {\n    setEmail(e.target.value);\n  }\n\n  function handlePasswordChange(e) {\n    setPassword(e.target.value);\n  }\n\n  return (\n    <section className=\"register\">\n      <h2 className=\"register__heading\">Вход</h2>\n      <form onSubmit={handleSubmit} className=\"register__form\">\n\n        <input id=\"email\" placeholder=\"Email\" className=\"register__input\" name=\"email\" type=\"email\" value={email} onChange={handleEmailChange} />\n\n        <input id=\"password\" placeholder=\"Пароль\" className=\"register__input\" name=\"password\" type=\"password\" value={password} onChange={handlePasswordChange} />\n        <div className=\"register__button-container\">\n          <button type=\"submit\" className=\"register__submit\">Войти</button>\n        </div>\n      </form>\n    </section>\n  );\n}\n\nexport default withRouter(Login);","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\n// этот компонент принимает другой компонент в качестве пропса\n// он также может взять неограниченное число пропсов и передать их новому компоненту\nconst ProtectedRoute = ({ component: Component, ...props }) => {\n  return (\n    <Route>\n      {() =>\n        props.loggedIn ? <Component {...props} /> : <Redirect to=\"./sign-in\" />\n      }\n    </Route>\n  );\n};\n\nexport default ProtectedRoute;","import React from \"react\"\nimport Header from \"./Header.js\"\nimport Main from \"./Main.js\"\nimport Footer from \"./Footer.js\"\nimport ImagePopup from \"./ImagePopup.js\"\nimport api from \"../utils/Api.js\"\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\"\nimport { CurrentEmailContext } from '../contexts/CurrentEmailContext.js'\nimport EditProfilePopup from \"./EditProfilePopup.js\"\nimport EditAvatarPopup from \"./EditAvatarPopup.js\"\nimport AddPlacePopup from './AddPlacePopup.js'\nimport { Route, Switch, withRouter } from 'react-router-dom';\nimport Register from \"./Register.js\"\nimport Login from \"./Login.js\"\nimport ProtectedRoute from \"./ProtectedRoute.js\"\nimport { getContent } from '../utils/Auth'\n\n\nfunction App(props) {\n\n  const defaultUser = {\n    name: \"Loading\",\n    about: \"Loading\",\n    avatar: \"https://yandex.com\"\n  }\n\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setAddStatus] = React.useState(false);\n  const [isEditAvatarPopupOpen, setAvaStatus] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState(null);\n  const [currentUser, setCurrentUser] = React.useState(defaultUser);\n  const [cards, setCards] = React.useState([]);\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [currentEmail, setCurrentEmail] = React.useState('')\n\n\n  React.useEffect(() => {\n    api.getUser()\n      .then(res => {\n        console.log(res)\n        setCurrentUser(res);\n      }).catch((err) => {\n        console.log(err);\n      })\n  }, []);\n\n  React.useEffect(() => {\n    api.getAllCards()\n      .then(res => {\n        setCards(res);\n      }).catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  React.useEffect(() => {\n    tokenCheck();\n  }, [])\n\n\n  function handleLikeClick(card) {\n    // Снова проверяем, есть ли уже лайк на этой карточке\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n    //Отправляем запрос в API и получаем обновлённые данные карточки\n    if (!isLiked) {\n      api.addLike(card._id)\n        .then((newCard) => {\n          setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n\n    } else {\n      api.removeLike(card._id)\n        .then((newCard) => {\n          setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setAddStatus(true);\n  }\n\n  function handleEditAvatarClick() {\n    setAvaStatus(true);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n\n  // Проверяем, какой именно попап открыт, чтобы не задействовать хук всегда по 3 раза\n  function closeAllPopups() {\n    isEditProfilePopupOpen && setIsEditProfilePopupOpen(false);\n    isAddPlacePopupOpen && setAddStatus(false);\n    isEditAvatarPopupOpen && setAvaStatus(false);\n    setSelectedCard(null);\n  }\n\n  function handleUpdateUser({ name, about }) {\n    api.editUser(name, about)\n      .then((res) => {\n        //console.log(res);\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n  }\n\n  function handleUpdateAvatar({ avatar }) {\n    //console.log(avatar);\n    api.changeAvatar(avatar)\n      .then((res) => {\n        //console.log(res);\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n\n  }\n\n  function handleAddPlaceSubmit(data) {\n    api.addCard(data)\n      .then((res) => {\n        setCards([res, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n\n  }\n\n  function handleCardDelete(cardId) {\n    api.deleteCard(cardId)\n      .then((res) => {\n        setCards(cards.filter(function (card) {\n          return card._id !== cardId;\n        }))\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n\n  }\n\n  function handleLogin(email) {\n    setLoggedIn(true);\n    setCurrentEmail(email);\n  }\n\n  function tokenCheck() {\n    if (localStorage.getItem('jwt')) {\n      const jwt = localStorage.getItem('jwt');\n      getContent(jwt)\n        .then((res) => {\n          if (res) {\n            setLoggedIn(true);\n            props.history.push('/');\n          }\n        })\n\n    }\n  }\n\n  function signOut() {\n    localStorage.removeItem('jwt');\n    props.history.push('/sign-in');\n  }\n\n  return (\n    <div className=\"page\">\n      <CurrentUserContext.Provider value={currentUser}>\n        <CurrentEmailContext.Provider value={currentEmail}>\n          <Header signOut={signOut} />\n          <Switch>\n            <Route path=\"/sign-up\">\n              <Register />\n            </Route>\n            <Route path=\"/sign-in\">\n              <Login handleLogin={handleLogin} />\n            </Route>\n            <ProtectedRoute\n              path=\"/\"\n              exact\n              component={Main}\n              loggedIn={loggedIn}\n              onEditProfile={handleEditProfileClick}\n              onAddPlace={handleAddPlaceClick}\n              onEditAvatar={handleEditAvatarClick}\n              onCardClick={handleCardClick}\n              cards={cards}\n              onLikeClick={handleLikeClick}\n              onCardDelete={handleCardDelete}\n            />\n          </Switch>\n          <Footer />\n          <EditProfilePopup name=\"editing\" isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\n          <AddPlacePopup name=\"adding\" isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onPlaceSubmit={handleAddPlaceSubmit} />\n          <EditAvatarPopup name=\"ava\" isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\n          <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n        </CurrentEmailContext.Provider>\n      </CurrentUserContext.Provider>\n\n\n\n    </div >\n  );\n}\n\n\n\nexport default withRouter(App);\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}